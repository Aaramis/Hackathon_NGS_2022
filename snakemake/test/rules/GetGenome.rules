rule GetGenome :
    params :
       chr =  __chr_GG,
       GG_Repertory = __repertory_GG

    output :
        output_GG = __output_GG_fa_gz,
        output_GG_ref = __output_GG_ref

    message :
        "GetGenome with sra toolkit for {params.chr} NCBI_id"

    singularity :
        __container_GG  
 
    shell :
        "for chr in {params.chr}; do  \
            i=$(echo $chr |  grep -Eo '[0-9]+$'); \
            wget -O {params.GG_Repertory}$chr.fa.gz https://ftp.ensembl.org/pub/release-101/fasta/homo_sapiens/dna/Homo_sapiens.GRCh38.dna.chromosome.$i.fa.gz ; \
        done ;\
        gunzip -c {params.GG_Repertory}chr*.fa.gz > {params.GG_Repertory}ref.fa"