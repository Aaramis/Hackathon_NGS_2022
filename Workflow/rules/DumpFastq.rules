rule dumpFastq :
    input :
        sra_files = __input_DF
        
    params :
       ncbi_id =  __ncbi_id,
       DF_Repertory = __repertory_DF

    output :
        output_DF_1 = __output_DF_1,
        output_DF_2 = __output_DF_2

    message :
        "Convert SRA in fastq files with sra toolkit for {params.ncbi_id} SRAID"

    singularity :
        __container_DF  
 
    shell :
        "vdb-config --restore-defaults;\
        for ncbi_id in {params.ncbi_id}; do \
            fasterq-dump --split-files {params.DF_Repertory}$ncbi_id/$ncbi_id.sra -O {params.DF_Repertory}$ncbi_id;\
        done"